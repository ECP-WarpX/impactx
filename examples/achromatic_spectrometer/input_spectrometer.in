###############################################################################
# Particle Beam(s)
###############################################################################
beam.npart = 10000
beam.units = static
beam.kin_energy = 1.0e3
beam.charge = 1.0e-9
beam.particle = electron
beam.distribution = waterbag
beam.sigmaX = 3.162277660e-6
beam.sigmaY = 3.162277660e-6
beam.sigmaT = 1.0e-3
beam.sigmaPx = 3.16227766017e-4
beam.sigmaPy = 3.16227766017e-4
beam.sigmaPt = 2.0e-2
beam.muxpx = 0.0
beam.muypy = 0.0
beam.mutpt = 0.0


###############################################################################
# Beamline: lattice elements and segments
###############################################################################
lattice.elements = monitor bend1 plasma_lens drift1 monitor
lattice.nslice = 25

monitor.type = beam_monitor
monitor.backend = h5

bend1.type = sbend_exact
bend1.ds = 1.0
bend1.phi = 10.0
bend1.B = 0.0

plasma_lens.type = line
plasma_lens.elements = plend dr pl dr pl dr pl dr pl dr p1 dr p1 dr p1 dr p1 dr p1 dr p1end

p1end.type = tapered_plasma_lens
p1end.k = 125.0
p1end.taper = 11.488289081903567
p1end.units = 0

p1.type = tapered_plasma_lens
p1.k = 250.0  #focal length 0.5 m
p1.taper = 11.488289081903567
p1.units = 0

dr.type = drift
dr.ds = 0.25

drift1.type = drift
drift1.ds = 1.0

###############################################################################
# Algorithms
###############################################################################
algo.particle_shape = 2
algo.space_charge = false


###############################################################################
# Diagnostics
###############################################################################
diag.slice_step_diagnostics = true
